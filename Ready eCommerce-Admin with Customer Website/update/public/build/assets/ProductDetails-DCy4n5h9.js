import{c as a,o as l,a as e,n as be,u as ye,d as v,e as ne,l as b,t as o,g as p,b as n,w as M,s as ke,q as B,h as $e,_ as Le,B as Ve,F as j,r as z,x as Fe,G as De,H as Ee,z as Oe,y as Be,v as Ne,j as Ue,p as W,k as He,C as re,I as qe,f as Y,J as Qe,T as Xe,M as Ye,K as Ze,L as Ge,N as We,O as Je,P as Ke,Q as et,R as tt,U as st,V as lt,W as ve,X as ot,Y as at,Z as it,$ as rt,a0 as he,S as y,a1 as xe,a2 as nt}from"./app-BuJg5W9A.js";import{N as dt}from"./navigation-BiF5Vj5m.js";import{g as ct,i as ut,f as mt,S as _e,d as ge}from"./swiper-D3k3sNve.js";import{f as pt,_ as ft,a as vt}from"./free-mode-DnWOND3o.js";import{v as ht}from"./index-DKydMsFr.js";import{_ as xt}from"./ProductCardHorizontal-B5xvyLjb.js";import{_ as _t}from"./Bag-Du0q8es5.js";import{P as gt}from"./ProductCard-BaKHDnjs.js";import{r as wt}from"./HomeIcon-DOllKTN_.js";import"./ArrowRightIcon-BF73SUrw.js";import"./ArrowDownTrayIcon-DV_-nZla.js";function bt(k,i){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function yt(k,i){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function kt(k,i){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})])}function $t(k){let{swiper:i,extendParams:V,on:x}=k;V({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let F=!1,I=!1;i.thumbs={swiper:null};function h(){const m=i.thumbs.swiper;if(!m||m.destroyed)return;const d=m.clickedIndex,u=m.clickedSlide;if(u&&u.classList.contains(i.params.thumbs.slideThumbActiveClass)||typeof d>"u"||d===null)return;let t;m.params.loop?t=parseInt(m.clickedSlide.getAttribute("data-swiper-slide-index"),10):t=d,i.params.loop?i.slideToLoop(t):i.slideTo(t)}function S(){const{thumbs:m}=i.params;if(F)return!1;F=!0;const d=i.constructor;if(m.swiper instanceof d){if(m.swiper.destroyed)return F=!1,!1;i.thumbs.swiper=m.swiper,Object.assign(i.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(i.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),i.thumbs.swiper.update()}else if(ut(m.swiper)){const u=Object.assign({},m.swiper);Object.assign(u,{watchSlidesProgress:!0,slideToClickedSlide:!1}),i.thumbs.swiper=new d(u),I=!0}return i.thumbs.swiper.el.classList.add(i.params.thumbs.thumbsContainerClass),i.thumbs.swiper.on("tap",h),!0}function R(m){const d=i.thumbs.swiper;if(!d||d.destroyed)return;const u=d.params.slidesPerView==="auto"?d.slidesPerViewDynamic():d.params.slidesPerView;let t=1;const _=i.params.thumbs.slideThumbActiveClass;if(i.params.slidesPerView>1&&!i.params.centeredSlides&&(t=i.params.slidesPerView),i.params.thumbs.multipleActiveThumbs||(t=1),t=Math.floor(t),d.slides.forEach(f=>f.classList.remove(_)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let f=0;f<t;f+=1)mt(d.slidesEl,`[data-swiper-slide-index="${i.realIndex+f}"]`).forEach(g=>{g.classList.add(_)});else for(let f=0;f<t;f+=1)d.slides[i.realIndex+f]&&d.slides[i.realIndex+f].classList.add(_);const T=i.params.thumbs.autoScrollOffset,P=T&&!d.params.loop;if(i.realIndex!==d.realIndex||P){const f=d.activeIndex;let g,A;if(d.params.loop){const D=d.slides.find(N=>N.getAttribute("data-swiper-slide-index")===`${i.realIndex}`);g=d.slides.indexOf(D),A=i.activeIndex>i.previousIndex?"next":"prev"}else g=i.realIndex,A=g>i.previousIndex?"next":"prev";P&&(g+=A==="next"?T:-1*T),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(g)<0&&(d.params.centeredSlides?g>f?g=g-Math.floor(u/2)+1:g=g+Math.floor(u/2)-1:g>f&&d.params.slidesPerGroup,d.slideTo(g,m?0:void 0))}}x("beforeInit",()=>{const{thumbs:m}=i.params;if(!(!m||!m.swiper))if(typeof m.swiper=="string"||m.swiper instanceof HTMLElement){const d=ct(),u=()=>{const _=typeof m.swiper=="string"?d.querySelector(m.swiper):m.swiper;if(_&&_.swiper)m.swiper=_.swiper,S(),R(!0);else if(_){const T=`${i.params.eventsPrefix}init`,P=f=>{m.swiper=f.detail[0],_.removeEventListener(T,P),S(),R(!0),m.swiper.update(),i.update()};_.addEventListener(T,P)}return _},t=()=>{if(i.destroyed)return;u()||requestAnimationFrame(t)};requestAnimationFrame(t)}else S(),R(!0)}),x("slideChange update resize observerUpdate",()=>{R()}),x("setTransition",(m,d)=>{const u=i.thumbs.swiper;!u||u.destroyed||u.setTransition(d)}),x("beforeDestroy",()=>{const m=i.thumbs.swiper;!m||m.destroyed||I&&m.destroy()}),Object.assign(i.thumbs,{init:S,update:R})}const St={class:"flex flex-col md:flex-row xl:flex-col items-center gap-4"},Pt={key:0,class:"w-full grow md:flex lg:gap-6 xl:block p-4 bg-slate-50 rounded-xl border border-slate-100 space-y-2 xl:space-y-4"},Ct={class:"flex grow flex-col items-start xl:flex-row xl:items-center gap-2 xl:gap-3"},Tt={class:"text-slate-500 text-base font-normal leading-normal"},jt={class:"mt-1 text-slate-950 text-base font-bold leading-normal"},It={class:"flex grow flex-col items-start xl:flex-row xl:items-center gap-2 xl:gap-3"},zt={class:"text-slate-500 text-base font-normal leading-normal"},Mt={class:"mt-1 text-slate-950 text-base font-bold leading-normal"},At={key:1,class:"bg-slate-50 hover:border-primary transition w-full grow rounded-xl border border-slate-100 xl:mt-6"},Rt={class:"flex justify-between items-center gap-4 p-4"},Lt={class:"w-14 h-14 rounded-full overflow-hidden shrink-0"},Vt=["src"],Ft={class:"overflow-hidden"},Dt={class:"text-slate-500 text-sm font-normal leading-tight"},Et={class:"mt-1.5 text-slate-950 text-base font-medium leading-normal truncate"},Ot={class:""},Bt={class:"text-slate-800 text-sm font-bold mt-1"},Nt={class:"mt-8"},Ut={class:"text-slate-800 text-base font-medium leading-normal"},Ht={class:"flex gap-4 md:grid md:grid-cols-2 lg:grid-cols-3 xl:block xl:space-y-4 mt-4 overflow-x-auto"},we={__name:"ProductDetailsRightSide",props:{product:Object,popularProducts:Array},setup(k){const i=be(),V=ye(),x=v(!1),F=async(I,h,S)=>{await Fe.post("/store-message",{shop_id:I,user_id:h,product_id:S,type:"user"},{headers:{Authorization:i.token}}),x.value=!0};return(I,h)=>{var R,m,d,u,t,_,T;const S=ne("router-link");return l(),a(j,null,[e("div",St,[((R=k.product)==null?void 0:R.is_digital)==!1?(l(),a("div",Pt,[e("div",Ct,[h[2]||(h[2]=e("div",{class:"w-10 h-10 bg-slate-100 rounded-xl justify-center items-center flex"},[e("img",{src:"/assets/icons/money.svg",alt:"",class:"w-6 h-6"})],-1)),e("div",null,[e("div",Tt,o(I.$t("Delivery charge")),1),e("div",jt,o(p(V).showCurrency((m=k.product.shop)==null?void 0:m.delivery_charge)),1)])]),e("div",It,[h[3]||(h[3]=e("div",{class:"w-10 h-10 bg-slate-100 rounded-xl justify-center items-center flex"},[e("img",{src:"/assets/icons/clock.svg",alt:"",class:"w-6 h-6"})],-1)),e("div",null,[e("div",zt,o(I.$t("Estimated delivery")),1),e("div",Mt,o((d=k.product.shop)==null?void 0:d.estimated_delivery_time),1)])])])):b("",!0),p(V).multiVendor?(l(),a("div",At,[e("div",Rt,[n(S,{to:"/shops/"+((u=k.product.shop)==null?void 0:u.id),class:"flex items-center gap-4 overflow-hidden"},{default:M(()=>{var P,f;return[e("div",Lt,[e("img",{src:(P=k.product.shop)==null?void 0:P.logo,loading:"lazy",class:"w-full h-full object-cover"},null,8,Vt)]),e("div",Ft,[e("div",Dt,o(I.$t("Sold by")),1),e("div",Et,o((f=k.product.shop)==null?void 0:f.name),1)])]}),_:1},8,["to"]),e("div",Ot,[n(p(ke),{class:"w-5 h-5 text-amber-500"}),e("div",Bt,o((t=k.product.shop)==null?void 0:t.rating.toFixed(1)),1)])]),e("div",{class:B(["border-t border-slate-100 text-red-500 text-sm font-normal leading-tight flex items-center px-4 py-1 cursor-pointer",p(i).token?"justify-between":"justify-center"])},[n(S,{to:"/shops/"+((_=k.product.shop)==null?void 0:_.id),class:"py-2 block text-center"},{default:M(()=>[$e(o(I.$t("Visit Store")),1)]),_:1},8,["to"]),p(i).token?(l(),a("div",{key:0,class:"w-8 h-8 flex justify-center items-center bg-red-50 rounded-lg cursor-pointer",onClick:h[0]||(h[0]=P=>{var f,g,A;return F((f=k.product.shop)==null?void 0:f.id,(A=(g=p(i))==null?void 0:g.user)==null?void 0:A.id,k.product.id)})},[...h[4]||(h[4]=[e("img",{src:Le,alt:"chat",class:"w-6 h-6"},null,-1)])])):b("",!0)],2),e("div",null,[n(Ve,{show:x.value,onClose:h[1]||(h[1]=P=>x.value=!1),shop:(T=k.product)==null?void 0:T.shop},null,8,["show","shop"])])])):b("",!0)]),e("div",Nt,[e("div",Ut,o(I.$t("Popular Products From Them")),1),e("div",Ht,[(l(!0),a(j,null,z(k.popularProducts,P=>(l(),a("div",{key:P.id,class:"w-[320px] md:w-full shrink-0"},[n(xt,{product:P},null,8,["product"])]))),128))])])],64)}}},qt={class:"main-container"},Qt={class:"grid grid-cols-1 xl:grid-cols-4"},Xt={class:"xl:col-span-3 col-span-1 lg:pr-6"},Yt={class:"flex items-center gap-2 overflow-hidden pt-4"},Zt={class:"grow w-full overflow-hidden"},Gt={class:"space-x-1 text-slate-600 text-sm font-normal truncate"},Wt={class:"flex flex-wrap lg:flex-nowrap gap-4 mt-6"},Jt={class:"lg:w-[480px] w-full"},Kt={class:"w-full"},es={class:"bg-slate-50 rounded-xl border border-slate-100 px-6"},ts=["src"],ss={key:1,class:"h-full w-full bg-slate-200 flex justify-center items-center"},ls={key:0,controls:"",class:"w-full"},os=["src"],as=["innerHTML"],is={class:"px-1 mt-2"},rs=["src"],ns={key:1,class:"h-full w-full bg-slate-200 flex justify-center items-center"},ds={key:0,class:"h-full w-full"},cs=["src"],us={key:1,class:"h-full w-full overflow-hidden flex justify-center items-center"},ms={class:"w-full sm:w-auto"},ps={key:0,class:"bg-slate-100 mb-3 sm:mb-6 rounded-lg sm:rounded-[44px] flex items-center justify-start gap-2 sm:gap-5 overflow-hidden flex-col sm:flex-row"},fs={class:"px-4 sm:px-8 py-2 bg-gradient-to-l from-primary to-primary-800 w-full sm:w-auto"},vs={class:"text-white text-sm sm:text-base font-bold leading-normal"},hs={class:"h-full flex justify-center items-center flex-wrap pb-2 sm:pb-0"},xs={class:"text-center text-primary text-sm font-normal leading-tight pr-2"},_s={class:"flex justify-center items-center gap-1 text-white"},gs={key:0,class:"p-1 justify-center items-center gap-1 inline-flex"},ws={class:"text-center text-primary text-base font-semibold font-['Inter'] leading-none"},bs={class:"text-center text-[#687387] text-[9.14px] font-normal font-['Inter'] leading-none"},ys={key:1,class:"text-black text-base font-bold"},ks={class:"p-1 justify-center items-center gap-1 inline-flex"},$s={class:"text-center text-primary text-base font-semibold font-['Inter']"},Ss={class:"text-center text-[#687387] text-[9.14px] font-normal font-['Inter'] leading-none"},Ps={class:"p-1 justify-center items-center gap-1 inline-flex"},Cs={class:"text-center text-primary text-base font-semibold font-['Inter']"},Ts={class:"text-center text-[#687387] text-[9.14px] font-normal font-['Inter'] leading-none"},js={key:2,class:"text-black text-base font-bold"},Is={key:3,class:"p-1 justify-center items-center gap-1 inline-flex"},zs={class:"text-center text-primary text-base font-semibold font-['Inter']"},Ms={class:"text-center text-[#687387] text-[9.14px] font-normal font-['Inter'] leading-none"},As={class:"text-primary text-xs font-normal leading-none px-1.5 py-1 bg-primary-50 rounded"},Rs={class:"mt-3 text-slate-950 text-2xl font-medium leading-normal"},Ls={class:"mt-2 text-slate-700 text-base font-normal leading-normal"},Vs={class:"py-5 flex flex-wrap justify-start items-center gap-4 border-b border-slate-200"},Fs={class:"flex items-center gap-2"},Ds={class:"flex"},Es={class:"text-slate-800 text-base font-bold"},Os={class:"text-slate-500 text-base font-normal"},Bs={class:"text-slate-800 text-base font-normal leading-normal"},Ns={class:"text-slate-800 text-base font-normal leading-normal"},Us={class:"py-1 divide-y divide-gray-100"},Hs={class:"flex items-center gap-2 justify-between px-4 py-2 hover:bg-slate-100 transition-all duration-200"},qs={class:"flex items-center gap-1.5"},Qs={class:"capitalize"},Xs={class:"w-5 h-5 p-1 flex justify-center items-center bg-slate-200 rounded-full rotate-45"},Ys={class:"flex items-center gap-3 py-4 border-b border-slate-200 flex-wrap"},Zs={class:"text-primary text-3xl font-bold leading-9"},Gs={key:0,class:"text-slate-400 text-2xl font-normal line-through leading-loose"},Ws={key:1,class:"px-2 py-1 bg-red-500 rounded-2xl text-white text-base font-medium"},Js={key:1,class:"flex items-center gap-3 py-4"},Ks={class:"w-[40px] md:w-[88px] text-slate-600 text-base font-normal leading-normal"},el={class:"flex flex-wrap items-center gap-3"},tl=["id","value","onUpdate:modelValue"],sl=["for"],ll={key:0,class:"text-slate-500 text-base font-normal"},ol={key:2,class:"flex items-center gap-3 py-4"},al={class:"w-[40px] md:w-[88px] text-slate-600 text-base font-normal leading-normal"},il={class:"flex flex-wrap items-center gap-3"},rl=["id","value","onUpdate:modelValue"],nl=["for"],dl={key:0,class:"text-slate-500 text-base font-normal"},cl={class:"flex flex-wrap gap-4"},ul={key:0,class:"p-2 rounded-[10px] border border-slate-100 inline-flex gap-4"},ml={class:"w-6 flex items-center justify-center text-center text-slate-950 text-base font-medium leading-normal"},pl={class:"w-5 h-5"},fl={class:"text-base font-medium leading-normal"},vl={class:"text-base font-medium leading-normal"},hl={class:"block xl:hidden w-full pt-6 border-slate-200"},xl={class:"flex items-center gap-8 flex-wrap border-b mt-3 mb-4 xl:my-6"},_l={key:0,class:"description"},gl=["innerHTML"],wl={key:1,class:""},bl={class:"text-slate-950 text-lg lg:text-2xl font-medium leading-loose mb-4"},yl={class:"max-w-2xl"},kl={class:"border-t border-slate-200 mt-6"},$l={class:"mt-4 lg:mt-6 text-slate-950 text-lg lg:text-2xl font-medium leading-loose"},Sl={class:"space-y-6 mt-6"},Pl={class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},Cl={class:"text-slate-800 text-base font-normal leading-normal"},Tl={key:0},jl={class:"mt-4 xl:mt-6 text-slate-800 text-lg md:text-2xl lg:text-3xl font-bold leading-9"},Il={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 sm:gap-6 items-start my-6"},zl={key:1,class:"grid grid-cols-1 xl:grid-cols-4"},Ml={class:"xl:col-span-3 col-span-1 lg:pr-6"},Al={class:"flex items-center gap-2 overflow-hidden pt-6"},Rl={class:"flex flex-wrap lg:flex-nowrap gap-4 mt-6"},Ll={class:"lg:w-[480px] w-full lg:shrink-0"},Vl={class:"flex flex-grow gap-3 mt-4"},Fl={class:"flex flex-col gap-3 mt-6"},Dl={class:"flex flex-col gap-4 mt-4"},El={class:"w-full pb-4"},Ol={class:"flex flex-col gap-3"},Bl={class:"flex flex-col gap-4 mt-4"},Nl={class:"flex flex-col gap-3 mt-4"},Ul={class:"flex flex-col gap-4 mt-4"},Hl={class:"hidden xl:block col-span-1 w-full pt-6 h-full xl:pt-16 xl:pl-8 xl:border-l border-slate-200 xl:pb-6"},ql={class:"flex flex-col gap-4 mt-4"},Ql={__name:"ProductDetails",setup(k){const{shareLink:i}=ht(),V=Ee(),x=Oe(),F=Be(),I=ye(),h=Ne(),S=be(),R=v(null),m=[pt,dt,$t],d=s=>{R.value=s},u=v({product_id:x.params.id,size:null,color:null,unit:null}),t=v({}),_=v(0),T=v(0),P=v(0),f=v([]),g=v([]),A=v(!0),D=v(!1),N=v(null),q=v(!0);Ue(()=>{ce(),window.scrollTo(0,0),E(x.params.id)}),W(u,()=>{de()},{deep:!0});const Se=[{name:"facebook",icon:Ze,color:"#0d68f1"},{name:"linkedin",icon:Ge,color:"#1275b1"},{name:"twitter",icon:We,color:"#47acdf"},{name:"pinterest",icon:Je,color:"#bb0f23"},{name:"reddit",icon:Ke,color:"#fc471e"},{name:"whatsapp",icon:et,color:"#25d366"},{name:"email",icon:tt,color:"#bb0f23"},{name:"telegram",icon:st,color:"#47acdf"}],Pe=s=>{var w;let c=t.value.short_description.replace(/<[^>]*>/g,""),$=window.location.href,C=t.value.thumbnails[0];i({network:s,url:$,title:t.value.name,description:c,media:C?C.url:null,quote:t.value.name,hashtags:t.value.meta_keywords,twitterUser:(w=t.value.shop)==null?void 0:w.name})},de=()=>{var w,L;var s=0,c=0;const $=(w=t.value.colors)==null?void 0:w.find(H=>H.id==u.value.color),C=(L=t.value.sizes)==null?void 0:L.find(H=>H.id==u.value.size);$&&(s=$.price??0),C&&(c=C.price??0),t.value.discount_price>0?(_.value=t.value.discount_price+s+c,T.value=t.value.price+s+c):(_.value=t.value.price+s+c,T.value=_.value),P.value=((T.value-_.value)/T.value*100).toFixed(2)},Ce=()=>{var s;if(S.token===null)return S.loginModal=!0;h.addToCart({product_id:u.value.product_id,is_buy_now:!0,quantity:1,size:u.value.size,color:u.value.color,unit:null},t.value),h.buyNowShopId=(s=t.value)==null?void 0:s.shop.id,F.push({name:"buynow"})};W(x,async()=>{await nt(),window.scrollTo(0,0),ce(),A.value=!0,D.value=!1,u.value.product_id=x.params.id,E(x.params.id)}),W(()=>h.products,()=>{E(x.params.id)},{deep:!0});const E=s=>{var $,C;let c=null;h.products.forEach(w=>{w.products.find(L=>{if(L.id==s)return c=L})}),N.value=c,c&&(u.value.size=($=c.size)==null?void 0:$.id,u.value.color=(C=c.color)==null?void 0:C.id,u.value.unit=c.unit)},Te=()=>{h.addToCart(u.value,t.value),setTimeout(()=>{E(x.params.id)},200)},je=()=>{h.decrementQuantity(t.value),setTimeout(()=>{E(x.params.id)},200)},Ie=()=>{h.incrementQuantity(t.value),setTimeout(()=>{E(x.params.id)},200)},ze=()=>{if(S.token===null)return S.loginModal=!0;axios.post("/favorite-add-or-remove",{product_id:t.value.id},{headers:{Authorization:S.token}}).then(()=>{t.value.is_favorite=!t.value.is_favorite,t.value.is_favorite===!1?V({component:xe,props:{title:"Product removed from favorite",message:"Product removed from favorite successfully"}},{type:"default",hideProgressBar:!0,icon:!1,position:"top-right",toastClassName:"vue-toastification-alert",timeout:3e3}):V({component:xe,props:{title:"Product added to favorite",message:"Product added to favorite successfully"}},{type:"default",hideProgressBar:!0,icon:!1,position:"top-right",toastClassName:"vue-toastification-alert",timeout:3e3}),S.fetchFavoriteProducts()}).catch(s=>{console.log(s)})},Me=()=>{A.value=!1,D.value=!0,ue()},Q=v({}),ce=async()=>{q.value=!0,axios.get("/product-details",{params:{product_id:x.params.id},headers:{Authorization:S.token}}).then(s=>{t.value=s.data.data.product,f.value=s.data.data.related_products,g.value=s.data.data.popular_products,Q.value=s.data.data.product.flash_sale,Q.value&&Re(),t.value.colors.length>0?u.value.color=t.value.colors[0].id:u.value.color=null,t.value.sizes.length>0?u.value.size=t.value.sizes[0].id:u.value.size=null,de(),E(x.params.id),setTimeout(()=>{q.value=!1},100)})},Z=v({}),J=v(0),K=v([]),U=v(1),G=v(6),Ae=s=>{U.value=s,ue()},ue=async()=>{axios.get("/reviews",{params:{product_id:x.params.id,page:U.value,per_page:G.value}}).then(s=>{J.value=s.data.data.total,K.value=s.data.data.reviews,Z.value=s.data.data.average_rating_percentage})},O=v(""),ee=v(""),te=v(""),se=v("");let le=null;const Re=()=>{var c,$;const s=new Date((c=Q.value)==null?void 0:c.end_date).getTime();($=Q.value)!=null&&$.end_date&&(le=setInterval(()=>{const C=new Date().getTime(),w=s-C;w<=0?(clearInterval(le),O.value="00",ee.value="00",te.value="00",se.value="00"):(O.value=String(Math.floor(w/(1e3*60*60*24))).padStart(2,"0"),ee.value=String(Math.floor(w%(1e3*60*60*24)/(1e3*60*60))).padStart(2,"0"),te.value=String(Math.floor(w%(1e3*60*60)/(1e3*60))).padStart(2,"0"),se.value=String(Math.floor(w%(1e3*60)/1e3)).padStart(2,"0"))},1e3))};He(()=>{clearInterval(le)});const oe=v(0),ae=v(0),ie=s=>{const $=s.currentTarget.getBoundingClientRect();let C,w;if(s.type==="touchmove"||s.type==="touchstart"){const L=s.touches[0];C=L.clientX,w=L.clientY}else C=s.clientX,w=s.clientY;oe.value=(C-$.left)/$.width*100,ae.value=(w-$.top)/$.height*100},me=()=>{oe.value=50,ae.value=50};return W([oe,ae],([s,c])=>{document.documentElement.style.setProperty("--mouse-x",`${s}%`),document.documentElement.style.setProperty("--mouse-y",`${c}%`)}),(s,c)=>{var w,L,H,pe,fe;const $=ne("router-link"),C=ne("vue-awesome-paginate");return l(),a("div",qt,[re(e("div",Qt,[e("div",Xt,[e("div",Yt,[n($,{to:"/",class:"w-6 h-6"},{default:M(()=>[n(p(wt),{class:"w-5 h-5 text-slate-600"})]),_:1}),e("div",Zt,[e("div",Gt,[n($,{to:"/"},{default:M(()=>[$e(o(s.$t("Home")),1)]),_:1}),c[3]||(c[3]=e("span",null,"/",-1)),e("span",null,o(t.value.name),1)])])]),e("div",Wt,[e("div",Jt,[e("div",Kt,[e("div",es,[n(p(ge),{spaceBetween:10,thumbs:{swiper:R.value},modules:m,class:"product-details-slider"},{default:M(()=>[(l(!0),a(j,null,z(t.value.thumbnails,r=>(l(),Y(p(_e),{key:r.id,class:"max-h-[448px] h-auto"},{default:M(()=>[r.thumbnail?(l(),a("div",{key:0,class:"zoom-container h-full",onMousemove:ie,onMouseleave:me,onTouchstart:ie,onTouchmove:ie,onTouchend:me},[e("img",{src:r.thumbnail,alt:"thumbnail",class:"zoom-image h-full w-full object-contain"},null,8,ts)],32)):(l(),a("div",ss,[r.type=="file"?(l(),a("video",ls,[e("source",{src:r.url,type:"video/mp4"},null,8,os)])):(l(),a("div",{key:1,innerHTML:r.url,class:"w-full overflow-hidden",ref_for:!0,ref:"iframeContainer"},null,8,as))]))]),_:2},1024))),128))]),_:1},8,["thumbs"])]),e("div",is,[n(p(ge),{onSwiper:d,spaceBetween:10,slidesPerView:4,freeMode:!0,navigation:!0,watchSlidesProgress:!0,modules:m,class:"product-details-thumbnail"},{default:M(()=>[(l(!0),a(j,null,z(t.value.thumbnails,r=>(l(),Y(p(_e),{key:r.id},{default:M(()=>[r.thumbnail?(l(),a("img",{key:0,src:r.thumbnail,alt:"",class:"h-full w-full object-cover"},null,8,rs)):(l(),a("div",ns,[r.type=="file"?(l(),a("video",ds,[e("source",{src:r.url,type:"video/mp4"},null,8,cs)])):(l(),a("div",us,[...c[4]||(c[4]=[e("img",{src:"/assets/icons/video-player.svg",alt:"",width:"70",height:"70"},null,-1)])]))]))]),_:2},1024))),128))]),_:1})])])]),e("div",ms,[Q.value?(l(),a("div",ps,[e("div",fs,[e("div",vs,o(s.$t("Flash Sale")),1)]),e("div",hs,[e("div",xs,o(s.$t("Ending in")),1),e("div",_s,[O.value>0?(l(),a("div",gs,[e("div",ws,o(O.value),1),e("div",bs,o(s.$t("Days")),1)])):b("",!0),O.value>0?(l(),a("span",ys,":")):b("",!0),e("div",ks,[e("div",$s,o(ee.value),1),e("div",Ss,o(s.$t("Hours")),1)]),c[5]||(c[5]=e("span",{class:"text-black text-base font-bold"},":",-1)),e("div",Ps,[e("div",Cs,o(te.value),1),e("div",Ts,o(s.$t("Minutes")),1)]),O.value<=0?(l(),a("span",js,":")):b("",!0),O.value<=0?(l(),a("div",Is,[e("div",zs,o(se.value),1),e("div",Ms,o(s.$t("Seconds")),1)])):b("",!0)])])])):b("",!0),e("span",As,o(t.value.brand??"Unknown Brand"),1),e("div",Rs,o(t.value.name),1),e("div",Ls,o(t.value.short_description),1),e("div",Vs,[e("div",Fs,[e("div",Ds,[(l(),a(j,null,z(5,r=>n(p(ke),{key:r,class:B(["w-6 h-6 2xl:block hidden",r<=t.value.rating?"text-amber-500":"text-gray-300"])},null,8,["class"])),64))]),e("div",Es,o(t.value.rating),1),e("div",Os,o(t.value.total_reviews)+" "+o(s.$t("Review")),1)]),c[6]||(c[6]=e("div",{class:"w-[1px] h-4 bg-slate-200"},null,-1)),e("div",Bs,o(t.value.total_sold)+" "+o(s.$t("Sold")),1),c[7]||(c[7]=e("div",{class:"w-[1px] h-4 bg-slate-200"},null,-1)),n(p(at),{as:"div",class:"relative inline-block text-left"},{default:M(()=>[e("div",null,[n(p(Qe),{class:"flex items-center gap-2 border-none"},{default:M(()=>[n(p(kt),{class:"w-[18px] text-slate-600"}),e("span",Ns,o(s.$t("Share")),1)]),_:1})]),n(Xe,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:M(()=>[n(p(Ye),{class:"absolute right-0 tr z-10 mt-2 w-56 origin-top rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden"},{default:M(()=>[e("div",Us,[(l(),a(j,null,z(Se,r=>n(p(lt),{key:r.name,class:"cursor-pointer",onClick:X=>Pe(r.name)},{default:M(({active:X})=>[e("div",Hs,[e("div",qs,[e("div",{class:B(["w-7 h-7 p-1.5 flex justify-center items-center text-white rounded-full",`bg-[${r.color}]`])},[n(p(ve),{icon:r.icon,class:"w-full h-full"},null,8,["icon"])],2),e("span",Qs,o(r.name),1)]),e("div",Xs,[n(p(ve),{icon:p(ot),class:"w-full h-full text-slate-500"},null,8,["icon"])])])]),_:2},1032,["onClick"])),64))])]),_:1})]),_:1})]),_:1}),c[8]||(c[8]=e("div",{class:"w-[1px] h-4 bg-slate-200"},null,-1)),e("button",{class:"border-none",onClick:ze},[t.value.is_favorite?(l(),Y(p(rt),{key:1,class:"w-6 h-6 text-red-500"})):(l(),Y(p(it),{key:0,class:"w-6 h-6 text-slate-600"}))])]),e("div",Ys,[e("div",Zs,o(p(I).showCurrency(parseFloat(_.value).toFixed(2))),1),t.value.discount_price>0?(l(),a("div",Gs,o(p(I).showCurrency(parseFloat(T.value).toFixed(2))),1)):b("",!0),P.value>0?(l(),a("div",Ws,o(P.value)+"% "+o(s.$t("OFF")),1)):b("",!0)]),((w=t.value.sizes)==null?void 0:w.length)>0&&t.value.is_digital==!1?(l(),a("div",Js,[e("div",Ks,o(s.$t("Size")),1),e("div",el,[(l(!0),a(j,null,z(t.value.sizes,r=>(l(),a("div",{key:r.id,class:"relative"},[re(e("input",{type:"radio",name:"size",id:"size-"+r.id,class:"peer hidden",value:r.id,"onUpdate:modelValue":X=>u.value.size=X},null,8,tl),[[he,u.value.size]]),e("label",{for:"size-"+r.id,class:"min-w-11 w-auto h-9 flex justify-center items-center border-2 border-slate-200 rounded-md cursor-pointer peer-checked:border-primary peer-checked:bg-primary-100 px-2"},o(r.name),9,sl)]))),128)),t.value.sizes?b("",!0):(l(),a("div",ll,o(s.$t("N/A")),1))])])):b("",!0),((L=t.value.colors)==null?void 0:L.length)>0&&t.value.is_digital==!1?(l(),a("div",ol,[e("div",al,o(s.$t("Color")),1),e("div",il,[(l(!0),a(j,null,z(t.value.colors,r=>(l(),a("div",{key:r.id,class:"relative"},[re(e("input",{type:"radio",name:"color",id:"color-"+r.id,class:"peer hidden",value:r.id,"onUpdate:modelValue":X=>u.value.color=X},null,8,rl),[[he,u.value.color]]),e("label",{for:"color-"+r.id,class:"px-2 py-1 flex justify-center items-center border-2 border-slate-200 rounded-md cursor-pointer peer-checked:border-primary peer-checked:bg-primary-100"},o(r.name),9,nl)]))),128)),t.value.colors?b("",!0):(l(),a("div",dl,o(s.$t("N/A")),1))])])):b("",!0),e("div",cl,[N.value?(l(),a("div",ul,[e("button",{class:"bg-slate-200 p-2 rounded",onClick:je},[n(p(bt),{class:"w-6 h-6 text-slate-800"})]),e("div",ml,o(N.value.quantity),1),e("button",{class:"bg-slate-100 p-2 rounded",onClick:Ie},[n(p(yt),{class:"w-6 h-6 text-slate-800"})])])):b("",!0),!N.value&&((H=t.value)==null?void 0:H.is_digital)==!1?(l(),a("button",{key:1,class:"grow max-w-56 justify-center items-center text-primary flex gap-2 px-6 py-4 rounded-[10px] border border-primary",onClick:Te},[e("div",pl,[n(_t)]),e("div",fl,o(s.$t("Add to Cart")),1)])):b("",!0),e("button",{class:B(["grow text-white bg-primary px-6 py-4 rounded-[10px] border border-primary max-w-[50%]",((pe=t.value)==null?void 0:pe.is_digital)==!0?"my-4":""]),onClick:Ce},[e("span",vl,o(s.$t("Buy Now")),1)],2)])])]),e("div",hl,[n(we,{product:t.value,popularProducts:g.value},null,8,["product","popularProducts"])]),e("div",xl,[e("button",{class:B(["py-3 transition text-base font-medium leading-normal border-b",A.value?"text-primary border-primary":"text-slate-600 border-transparent"]),onClick:c[0]||(c[0]=r=>{A.value=!0,D.value=!1})},o(s.$t("About Product")),3),e("button",{class:B(["py-3 transition text-base font-medium leading-normal border-b",D.value?"text-primary border-primary":"text-slate-600 border-transparent"]),onClick:c[1]||(c[1]=r=>Me())},o(s.$t("Reviews")),3)]),A.value?(l(),a("div",_l,[e("div",{class:"prose max-w-none w-full m-0",innerHTML:t.value.description},null,8,gl)])):b("",!0),D.value?(l(),a("div",wl,[e("div",bl,o(s.$t("Rating and Review")),1),e("div",yl,[n(ft,{reviewRatings:Z.value.percentages,averageRating:(fe=Z.value)==null?void 0:fe.rating,totalReview:Z.value.total_review},null,8,["reviewRatings","averageRating","totalReview"])]),e("div",kl,[e("div",$l,o(s.$t("Reviews")),1),e("div",Sl,[(l(!0),a(j,null,z(K.value,r=>(l(),Y(vt,{key:r.id,review:r},null,8,["review"]))),128))]),e("div",Pl,[e("div",Cl,o(s.$t("Showing"))+" "+o(G.value*(U.value-1)+1)+" "+o(s.$t("to"))+" "+o(G.value*(U.value-1)+K.value.length)+" "+o(s.$t("of"))+" "+o(J.value)+" "+o(s.$t("results")),1),e("div",null,[n(C,{"total-items":J.value,"items-per-page":G.value,type:"button","max-pages-shown":3,modelValue:U.value,"onUpdate:modelValue":c[2]||(c[2]=r=>U.value=r),"hide-prev-next-when-ends":!0,onClick:Ae},null,8,["total-items","items-per-page","modelValue"])])])])])):b("",!0)]),e("div",{class:B(["hidden xl:block col-span-1 w-full pt-6 h-full xl:pt-12 border-slate-200 xl:pb-6",p(I).langDirection=="rtl"?"xl:pr-8 xl:border-r":"xl:pl-8 xl:border-l"])},[n(we,{product:t.value,popularProducts:g.value},null,8,["product","popularProducts"])],2)],512),[[qe,!q.value]]),f.value.length>0&&!q.value?(l(),a("div",Tl,[e("div",jl,o(s.$t("Similar Products")),1),e("div",Il,[(l(!0),a(j,null,z(f.value,r=>(l(),a("div",{key:r.id},[n(gt,{product:r},null,8,["product"])]))),128))])])):b("",!0),q.value?(l(),a("div",zl,[e("div",Ml,[e("div",Al,[n(y,{class:"w-40 h-4"})]),e("div",Rl,[e("div",Ll,[n(y,{class:"w-full h-52 md:h-80 rounded-lg"}),e("div",Vl,[(l(),a(j,null,z(4,r=>n(y,{class:"w-20 h-16 grow"})),64))]),e("div",Fl,[n(y,{class:"w-11/12 h-3 rounded-xl"}),n(y,{class:"w-10/12 h-3 rounded-xl"}),n(y,{class:"w-11/12 h-3 rounded-xl"}),n(y,{class:"w-full h-3 rounded-xl"})]),e("div",Dl,[(l(),a(j,null,z(3,r=>n(y,{class:"w-full h-20 rounded-lg"})),64))])]),e("div",El,[e("div",Ol,[n(y,{class:"w-11/12 h-3 rounded-xl"}),n(y,{class:"w-10/12 h-3 rounded-xl"}),n(y,{class:"w-11/12 h-3 rounded-xl"}),n(y,{class:"w-full h-3 rounded-xl"})]),e("div",Bl,[(l(),a(j,null,z(3,r=>n(y,{class:"w-full h-20 rounded-lg"})),64))]),e("div",Nl,[n(y,{class:"w-11/12 h-3 rounded-xl"}),n(y,{class:"w-10/12 h-3 rounded-xl"}),n(y,{class:"w-11/12 h-3 rounded-xl"}),n(y,{class:"w-full h-3 rounded-xl"})]),e("div",Ul,[(l(),a(j,null,z(2,r=>n(y,{class:"w-full h-20 md:h-36 rounded-lg"})),64))])])])]),e("div",Hl,[e("div",ql,[(l(),a(j,null,z(5,r=>n(y,{class:"w-full h-20 md:h-36 rounded-lg"})),64))])])])):b("",!0)])}}},oo=De(Ql,[["__scopeId","data-v-21b14324"]]);export{oo as default};
