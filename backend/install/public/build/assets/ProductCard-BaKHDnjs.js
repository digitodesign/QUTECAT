import{G as J,y as K,u as L,v as U,n as W,H as X,d as Y,c as r,o as i,a as e,q as l,l as p,t as s,b as c,g as d,$ as tt,Z as et,h as ot,s as st}from"./app-BuJg5W9A.js";import{_ as rt}from"./Bag-Du0q8es5.js";import{r as it}from"./ArrowDownTrayIcon-DV_-nZla.js";const at={class:"flex flex-col"},nt={class:"bg-white"},dt=["src"],lt={key:0,class:"px-1 py-0.5 bg-red-500 rounded-2xl text-white text-xs font-medium absolute top-2 left-2"},ct={key:3,class:"absolute bottom-1 right-2 inline-flex gap-1 items-center rounded-md bg-gradient-to-r from-green-600 to-green-800 px-1.5 py-0.5 text-[11px] font-bold text-white shadow-lg animate-badgePulse"},ut={class:"bg-white p-2 flex flex-col items-start gap-2 col-span-2"},pt={class:"text-primary text-base font-bold leading-normal"},ft={key:0,class:"text-slate-400 text-sm font-normal line-through leading-tight"},ht={class:"flex justify-between items-center w-full"},mt={class:"text-slate-950 text-sm font-bold leading-tight"},gt={class:"text-slate-500 text-sm font-normal leading-tight"},_t={key:0,class:"text-right text-slate-500 text-sm font-normal leading-tight"},yt={key:1,class:"text-right text-red-500 text-sm font-normal leading-tight"},vt={class:"w-full p-2"},xt={key:0,class:"justify-start items-center gap-3 flex w-full"},bt={class:"w-5 h-5"},wt={class:"text-primary text-sm font-normal leading-tight"},kt={key:1,class:"justify-center items-center gap-0.5 flex border border-red-300 py-2.5 rounded-[10px] w-full",disabled:""},Ct={class:"text-red-300 text-sm font-normal leading-tight"},$t={__name:"ProductCard",props:{product:Object},setup(G){var v,x;const h=K(),u=L(),f=U(),a=W(),m=X(),t=G,H={is_buy_now:!1,product_id:(v=t.product)==null?void 0:v.id,quantity:1,size:null,color:null,unit:null},Q=o=>{f.addToCart(H,o)},Z=async()=>{var o,n;if(a.token===null)return a.loginModal=!0;await f.addToCart({product_id:(o=t.product)==null?void 0:o.id,is_buy_now:!0,quantity:1,size:null,color:null,unit:null},t.product),f.buyNowShopId=(n=t.product)==null?void 0:n.shop.id,h.push({name:"buynow"})},g=Y((x=t.product)==null?void 0:x.is_favorite),_=()=>{if(a.token===null)return a.loginModal=!0;axios.post("/favorite-add-or-remove",{product_id:t.product.id},{headers:{Authorization:a.token}}).then(o=>{t.product.is_favorite=!t.product.is_favorite,g.value=o.data.data.product.is_favorite,g.value===!1?m.warning("Product removed from favorite",{position:u.langDirection==="rtl"?"bottom-right":"bottom-left"}):m.success("Product added to favorite",{position:u.langDirection==="rtl"?"bottom-right":"bottom-left"}),a.favoriteRemove=!0,a.fetchFavoriteProducts()})},y=()=>{t.product.quantity>0&&h.push({name:"productDetails",params:{id:t.product.id}})};return(o,n)=>{var b,w,k,C,$,q,j,N,P,S,B,D,z,T,A,F,O,V,M,R,I,E;return i(),r("div",{class:l(["rounded-lg border transition-all duration-300 group bg-white overflow-hidden relative",((b=t.product)==null?void 0:b.quantity)>0?"hover:border-primary":""])},[e("div",at,[e("div",nt,[e("div",{class:l(["w-full h-36 sm:h-52 overflow-hidden relative",((w=t.product)==null?void 0:w.quantity)>0?"":"opacity-30"])},[e("div",{class:"cursor-pointer w-full h-full",onClick:y},[e("img",{src:(k=t.product)==null?void 0:k.thumbnail,class:"w-full h-full group-hover:scale-110 transition duration-500 object-contain",loading:"lazy"},null,8,dt)]),((C=t.product)==null?void 0:C.discount_percentage)>0?(i(),r("div",lt,s(($=t.product)==null?void 0:$.discount_percentage)+"% "+s(o.$t("OFF")),1)):p("",!0),(q=t.product)!=null&&q.is_favorite?(i(),r("button",{key:1,class:"absolute top-2 right-2 w-9 h-9 rounded-[10px] justify-center items-center flex cursor-pointer bg-white",onClick:_},[c(d(tt),{class:"w-6 h-6 text-red-500"})])):(i(),r("button",{key:2,class:"absolute flex sm:hidden group-hover:flex top-2 right-2 w-9 h-9 rounded-[10px] justify-center items-center cursor-pointer bg-white transition-all duration-300",onClick:_},[c(d(et),{class:"w-6 h-6 text-slate-600"})])),((j=t.product)==null?void 0:j.is_digital)==!0?(i(),r("span",ct,[c(d(it),{class:"w-3 h-3"}),ot(" "+s(o.$t("Quick Access")),1)])):p("",!0)],2),e("div",{class:"cursor-pointer",onClick:y},[e("div",ut,[e("div",{class:l(["text-slate-950 text-base font-normal leading-normal truncate w-full",((N=t.product)==null?void 0:N.quantity)>0?"":"opacity-30"])},s((P=t.product)==null?void 0:P.name),3),e("div",{class:l(["flex items-center gap-2",((S=t.product)==null?void 0:S.quantity)>0?"":"opacity-30"])},[e("div",pt,s(d(u).showCurrency(((B=t.product)==null?void 0:B.discount_price)>0?(D=t.product)==null?void 0:D.discount_price:(z=t.product)==null?void 0:z.price)),1),((T=t.product)==null?void 0:T.discount_price)>0?(i(),r("div",ft,s(d(u).showCurrency((A=t.product)==null?void 0:A.price)),1)):p("",!0)],2),e("div",ht,[e("div",{class:l(["flex items-center gap-1",((F=t.product)==null?void 0:F.quantity)>0?"":"opacity-30"])},[c(d(st),{class:"w-4 h-4 text-yellow-400"}),e("div",mt,s((O=t.product)==null?void 0:O.rating),1),e("div",gt," ("+s((V=t.product)==null?void 0:V.total_reviews)+") ",1)],2),n[1]||(n[1]=e("div",{class:"h-3 w-[0px] border border-slate-200"},null,-1)),((M=t.product)==null?void 0:M.quantity)>0?(i(),r("div",_t,s((R=t.product)==null?void 0:R.total_sold)+" "+s(o.$t("Sold")),1)):(i(),r("div",yt,s(o.$t("Stock Out")),1))])])])]),e("div",vt,[((I=t.product)==null?void 0:I.quantity)>0?(i(),r("div",xt,[((E=t.product)==null?void 0:E.is_digital)==!1?(i(),r("button",{key:0,class:"cursor-pointer w-10 h-10 bg-white rounded-[10px] border border-primary-100 justify-center items-center flex",onClick:n[0]||(n[0]=qt=>Q(t.product))},[e("div",bt,[c(rt)])])):p("",!0),e("button",{class:"justify-center items-center gap-0.5 flex border border-primary grow py-2.5 rounded-[10px]",onClick:Z},[e("div",wt,s(o.$t("Buy Now")),1)])])):(i(),r("button",kt,[e("div",Ct,s(o.$t("Buy Now")),1)]))])])],2)}}},St=J($t,[["__scopeId","data-v-c97a7b4f"]]);export{St as P};
